<link rel="stylesheet" type="text/css" href="/../css/style.css">
<div class="container">
    <div class="row">
        {{#each Article}}
            <div class="article-title" data-id={{this._id}}>
                <h2>{{this.title}}</h2>
            </div>
            <div>
                {{#if this.saved}}
                <i class="fa fa-bookmark" aria-hidden="true"></i>
                {{/if}}
                {{#if this.notes}}
                <i class="fa fa-sticky-note" aria-hidden="true"></i>
                {{/if}}
            </div>
            <form action="/articles/{{this._id}}" method="post" id="notesForm">
                <div>
                    <textarea type="text" name="body" placeholder="Write Note Here..." required id="newNote"></textarea>
                </div>
                <button type="submit" class="btn btn-warning addNote" data-id={{this._id}}>Add Note</button>
                <a href="{{this.link}}" target="_blank" class="btn btn-success">View Article</a>
                {{#unless this.saved}}
                    <a class="btn btn-primary saveArticle" data-id={{this._id}}>Save Article</a>
                {{/unless}}
                {{#if this.saved}}
                    <a class="btn btn-danger deleteSaved" data-id={{this._id}}>Delete Saved Article</a>
                {{/if}}
                {{#if this.notes}}
                    <a class="btn btn-info viewNotes" data-id={{this._id}}>View Notes</a>
                {{/if}}
            </form>
            {{#each this.notes}}
                <div>
                    <a class="btn btn-danger deleteNote" data-id={{this._id}}>X</a>
                    <span><strong>Note:</strong> {{this.body}}</span>
                    <span><strong>Created At:</strong> {{this.createdAt}}</span>
                </div>
            {{/each}}        
        {{/each}}
    </div>
</div>

<script src="/../app.js"></script>
